Task1: add global exception catcher.

Bug1: move up level calculate wrong.
Bug2: js line with "{" and "}"