Task 1: add global exception catcher.   
Task 2: log levels.   

Fixed Bug1: move up level calculate wrong.   
Bug2: js line with "{" and "}"   